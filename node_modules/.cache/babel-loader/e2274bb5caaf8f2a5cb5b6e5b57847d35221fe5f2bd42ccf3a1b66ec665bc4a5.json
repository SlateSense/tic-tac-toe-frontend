{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\OM\\\\Desktop\\\\Tic-Tac-Toe\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useMemo, useRef, useState } from 'react';\nimport io from 'socket.io-client';\nimport { QRCodeSVG } from 'qrcode.react';\nimport PracticeBoard from './components/PracticeBoard';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst PAYOUTS = {\n  50: {\n    winner: 80\n  },\n  300: {\n    winner: 500\n  },\n  500: {\n    winner: 800\n  },\n  1000: {\n    winner: 1700\n  },\n  5000: {\n    winner: 8000\n  },\n  10000: {\n    winner: 17000\n  }\n};\nconst BET_OPTIONS = Object.keys(PAYOUTS).map(_c = k => ({\n  amount: parseInt(k, 10),\n  winnings: PAYOUTS[k].winner\n}));\n_c2 = BET_OPTIONS;\nconst BACKEND_URL = process.env.REACT_APP_BACKEND_URL || 'http://localhost:4000';\nexport default function App() {\n  _s();\n  var _matchInfo$opponent;\n  const [activeTab, setActiveTab] = useState('Menu');\n  const [gameState, setGameState] = useState('splash');\n  const [socket, setSocket] = useState(null);\n  const [socketId, setSocketId] = useState(null);\n  const [betAmount, setBetAmount] = useState(() => localStorage.getItem('ttt_lastBet') || '50');\n  const [payoutAmount, setPayoutAmount] = useState(() => {\n    const saved = localStorage.getItem('ttt_lastBet');\n    const opt = BET_OPTIONS.find(o => o.amount === parseInt(saved || '50'));\n    return opt ? String(opt.winnings) : '80';\n  });\n  const [lightningAddress, setLightningAddress] = useState(localStorage.getItem('ttt_lightningAddress') || '');\n\n  // Payment state\n  const [paymentInfo, setPaymentInfo] = useState(null); // { invoiceId, lightningInvoice, hostedInvoiceUrl, amountSats, amountUSD }\n  const [isWaitingForPayment, setIsWaitingForPayment] = useState(false);\n\n  // Game state\n  const [gameId, setGameId] = useState(null);\n  const [symbol, setSymbol] = useState(null); // 'X' | 'O'\n  const [turn, setTurn] = useState(null); // socketId whose turn\n  const [board, setBoard] = useState(Array(9).fill(null));\n  const [message, setMessage] = useState('');\n  const [lastMove, setLastMove] = useState(null);\n  const [winningLine, setWinningLine] = useState(null);\n  const [turnDeadline, setTurnDeadline] = useState(null);\n  const [timeLeft, setTimeLeft] = useState(null); // seconds\n  const [connected, setConnected] = useState(false);\n  const [showHowToModal, setShowHowToModal] = useState(false);\n  const [showStartModal, setShowStartModal] = useState(false);\n  const [showSupportModal, setShowSupportModal] = useState(false);\n  const [theme, setTheme] = useState(() => localStorage.getItem('ttt_theme') || 'minimal');\n  const [turnDuration, setTurnDuration] = useState(null); // seconds for current turn\n  const confettiRef = useRef(null);\n  const [showSettings, setShowSettings] = useState(false);\n  const [sfxEnabled, setSfxEnabled] = useState(() => localStorage.getItem('ttt_sfx') !== '0');\n  const [hapticsEnabled, setHapticsEnabled] = useState(() => localStorage.getItem('ttt_haptics') !== '0');\n  const [tiltEnabled, setTiltEnabled] = useState(() => localStorage.getItem('ttt_tilt') !== '0');\n  const boardRef = useRef(null);\n  const audioCtxRef = useRef(null);\n  const touchStartRef = useRef(null);\n  const [acceptedTerms, setAcceptedTerms] = useState(false);\n  const [waitingInfo, setWaitingInfo] = useState(null); // { minWait, maxWait, estWaitSeconds, spawnAt }\n  const waitingIntervalRef = useRef(null);\n  const [waitingSecondsLeft, setWaitingSecondsLeft] = useState(null);\n  const [matchInfo, setMatchInfo] = useState(null); // { opponent, startsIn, startAt }\n  const matchIntervalRef = useRef(null);\n  const [matchSecondsLeft, setMatchSecondsLeft] = useState(null);\n\n  // History\n  const [history, setHistory] = useState(() => {\n    try {\n      return JSON.parse(localStorage.getItem('ttt_history') || '[]');\n    } catch {\n      return [];\n    }\n  });\n  const stats = useMemo(() => {\n    let wins = 0,\n      losses = 0,\n      net = 0,\n      streak = 0,\n      cur = 0;\n    for (const h of history) {\n      if (h.outcome === 'win') {\n        wins++;\n        net += h.amount;\n        cur = cur >= 0 ? cur + 1 : 1;\n      } else {\n        losses++;\n        net += h.amount;\n        cur = cur <= 0 ? cur - 1 : -1;\n      }\n    }\n    streak = cur;\n    const total = wins + losses;\n    const wr = total ? Math.round(wins / total * 100) : 0;\n    return {\n      wins,\n      losses,\n      net,\n      streak,\n      winrate: wr\n    };\n  }, [history]);\n  useEffect(() => {\n    const s = io(BACKEND_URL, {\n      transports: ['websocket', 'polling']\n    });\n    setSocket(s);\n    const handlers = {\n      connect: () => {\n        setSocketId(s.id);\n        setConnected(true);\n      },\n      disconnect: () => {\n        setConnected(false);\n        setMessage('Disconnected. Retrying...');\n      },\n      connect_error: err => {\n        setConnected(false);\n        setMessage(`Cannot reach server at ${BACKEND_URL}`);\n      },\n      error: payload => {\n        const msg = typeof payload === 'string' ? payload : (payload === null || payload === void 0 ? void 0 : payload.message) || 'Error';\n        setMessage(msg);\n      },\n      paymentRequest: ({\n        lightningInvoice,\n        hostedInvoiceUrl,\n        amountSats,\n        amountUSD,\n        invoiceId,\n        demo\n      }) => {\n        setPaymentInfo({\n          lightningInvoice,\n          hostedInvoiceUrl,\n          amountSats,\n          amountUSD,\n          invoiceId,\n          demo: !!demo\n        });\n        setIsWaitingForPayment(true);\n        setMessage(`Pay ${amountSats} SATS (~$${amountUSD})`);\n        setGameState('awaitingPayment');\n      },\n      paymentVerified: () => {\n        setIsWaitingForPayment(false);\n        setMessage('Payment verified! Waiting for opponent...');\n        setGameState('waiting');\n      },\n      transaction: ({\n        message\n      }) => {\n        setMessage(message);\n      },\n      waitingForOpponent: ({\n        minWait,\n        maxWait,\n        estWaitSeconds,\n        spawnAt\n      }) => {\n        // Start waiting countdown until potential bot spawn or human arrival\n        setGameState('waiting');\n        setWaitingInfo({\n          minWait,\n          maxWait,\n          estWaitSeconds,\n          spawnAt\n        });\n        setMatchInfo(null);\n        if (waitingIntervalRef.current) {\n          clearInterval(waitingIntervalRef.current);\n          waitingIntervalRef.current = null;\n        }\n        const tick = () => {\n          const secs = Math.max(0, Math.ceil((Number(spawnAt) - Date.now()) / 1000));\n          setWaitingSecondsLeft(secs);\n        };\n        tick();\n        waitingIntervalRef.current = setInterval(tick, 500);\n      },\n      matchFound: ({\n        opponent,\n        startsIn,\n        startAt\n      }) => {\n        // Switch to pre-game countdown\n        if (waitingIntervalRef.current) {\n          clearInterval(waitingIntervalRef.current);\n          waitingIntervalRef.current = null;\n        }\n        setWaitingInfo(null);\n        setMatchInfo({\n          opponent,\n          startsIn,\n          startAt\n        });\n        setGameState('waiting');\n        setMessage(opponent !== null && opponent !== void 0 && opponent.isBot ? 'Matched with AI bot. Get ready!' : 'Opponent found! Starting soon...');\n        if (matchIntervalRef.current) {\n          clearInterval(matchIntervalRef.current);\n          matchIntervalRef.current = null;\n        }\n        const tick = () => {\n          const secs = Math.max(0, Math.ceil((Number(startAt) - Date.now()) / 1000));\n          setMatchSecondsLeft(secs);\n        };\n        tick();\n        matchIntervalRef.current = setInterval(tick, 250);\n      },\n      startGame: ({\n        gameId,\n        symbol,\n        turn,\n        message,\n        turnDeadline\n      }) => {\n        // Clear waiting/match timers on actual game start\n        if (waitingIntervalRef.current) {\n          clearInterval(waitingIntervalRef.current);\n          waitingIntervalRef.current = null;\n        }\n        if (matchIntervalRef.current) {\n          clearInterval(matchIntervalRef.current);\n          matchIntervalRef.current = null;\n        }\n        setWaitingInfo(null);\n        setMatchInfo(null);\n        setWaitingSecondsLeft(null);\n        setMatchSecondsLeft(null);\n        setGameId(gameId);\n        setSymbol(symbol);\n        setTurn(turn);\n        setBoard(Array(9).fill(null));\n        setLastMove(null);\n        setWinningLine(null);\n        setTurnDeadline(turnDeadline || null);\n        const ttl = turnDeadline ? Math.max(1, Math.ceil((Number(turnDeadline) - Date.now()) / 1000)) : null;\n        setTurnDuration(ttl);\n        setGameState('playing');\n        setShowStartModal(false);\n        setMessage(message || (turn === s.id ? 'Your move' : \"Opponent's move\"));\n      },\n      boardUpdate: ({\n        board,\n        lastMove\n      }) => {\n        setBoard(board);\n        setLastMove(typeof lastMove === 'number' ? lastMove : null);\n      },\n      nextTurn: ({\n        turn,\n        turnDeadline\n      }) => {\n        setTurn(turn);\n        setTurnDeadline(turnDeadline || null);\n        const ttl = turnDeadline ? Math.max(1, Math.ceil((Number(turnDeadline) - Date.now()) / 1000)) : null;\n        setTurnDuration(ttl);\n        setMessage(turn === s.id ? 'Your move' : \"Opponent's move\");\n      },\n      gameEnd: ({\n        message,\n        winnerSymbol,\n        winningLine\n      }) => {\n        var _PAYOUTS$betAmount;\n        setGameState('finished');\n        setMessage(message);\n        setWinningLine(Array.isArray(winningLine) ? winningLine : null);\n        setTurnDeadline(null);\n        setTimeLeft(null);\n        // Save to history\n        const isWin = winnerSymbol && symbol && winnerSymbol === symbol;\n        const entry = {\n          id: `g_${Date.now()}`,\n          ts: new Date().toISOString(),\n          bet: parseInt(betAmount, 10),\n          outcome: isWin ? 'win' : 'loss',\n          amount: isWin ? ((_PAYOUTS$betAmount = PAYOUTS[betAmount]) === null || _PAYOUTS$betAmount === void 0 ? void 0 : _PAYOUTS$betAmount.winner) - parseInt(betAmount, 10) : -parseInt(betAmount, 10)\n        };\n        const newHist = [entry, ...history].slice(0, 100);\n        setHistory(newHist);\n        localStorage.setItem('ttt_history', JSON.stringify(newHist));\n        if (isWin) {\n          launchConfetti();\n          sfxPlay('win');\n          triggerHaptic([30, 40, 30]);\n        } else {\n          sfxPlay('lose');\n          triggerHaptic([15, 25]);\n        }\n      }\n    };\n    Object.entries(handlers).forEach(([evt, fn]) => s.on(evt, fn));\n    s.connect();\n    return () => {\n      Object.entries(handlers).forEach(([evt, fn]) => s.off(evt, fn));\n      s.disconnect();\n      if (waitingIntervalRef.current) {\n        clearInterval(waitingIntervalRef.current);\n        waitingIntervalRef.current = null;\n      }\n      if (matchIntervalRef.current) {\n        clearInterval(matchIntervalRef.current);\n        matchIntervalRef.current = null;\n      }\n    };\n  }, [BACKEND_URL, betAmount, history]);\n  const doJoin = () => {\n    if (!socket || !connected) return;\n    if (!acceptedTerms) {\n      setMessage('Please accept Terms & Conditions to continue');\n      return;\n    }\n    const bet = parseInt(betAmount, 10);\n    const user = (lightningAddress || '').trim();\n    const addr = user ? user.includes('@') ? user : `${user}@speed.app` : 'anon';\n    socket.emit('joinGame', {\n      betAmount: bet,\n      lightningAddress: addr\n    });\n    localStorage.setItem('ttt_lastBet', String(bet));\n    localStorage.setItem('ttt_lightningAddress', user || '');\n    localStorage.setItem('ttt_lastAddress', user || '');\n  };\n  const simulatePayment = () => {\n    if (!socket || !paymentInfo) return;\n    socket.emit('simulatePayment', {\n      invoiceId: paymentInfo.invoiceId\n    });\n  };\n  const onCellClick = idx => {\n    if (gameState !== 'playing') return;\n    if (turn !== socketId) return; // not your turn\n    if (board[idx] !== null) return;\n    sfxPlay('move');\n    triggerHaptic(10);\n    socket.emit('makeMove', {\n      gameId,\n      position: idx\n    });\n  };\n  const resetToMenu = () => {\n    setGameState('splash');\n    setActiveTab('Menu');\n    setMessage('');\n    setBoard(Array(9).fill(null));\n    setLastMove(null);\n    setWinningLine(null);\n    setTurnDeadline(null);\n    setTimeLeft(null);\n    setPaymentInfo(null);\n    setIsWaitingForPayment(false);\n    if (waitingIntervalRef.current) {\n      clearInterval(waitingIntervalRef.current);\n      waitingIntervalRef.current = null;\n    }\n    if (matchIntervalRef.current) {\n      clearInterval(matchIntervalRef.current);\n      matchIntervalRef.current = null;\n    }\n    setWaitingInfo(null);\n    setWaitingSecondsLeft(null);\n    setMatchInfo(null);\n    setMatchSecondsLeft(null);\n    setAcceptedTerms(false);\n    // defaults 50 -> 80\n    setBetAmount('50');\n    setPayoutAmount('80');\n    setShowHowToModal(false);\n    setShowStartModal(false);\n    setShowSupportModal(false);\n  };\n  useEffect(() => {\n    const opt = BET_OPTIONS.find(o => o.amount === parseInt(betAmount, 10));\n    setPayoutAmount(String((opt === null || opt === void 0 ? void 0 : opt.winnings) || 0));\n  }, [betAmount]);\n\n  // Persist toggles\n  useEffect(() => {\n    localStorage.setItem('ttt_sfx', sfxEnabled ? '1' : '0');\n  }, [sfxEnabled]);\n  useEffect(() => {\n    localStorage.setItem('ttt_haptics', hapticsEnabled ? '1' : '0');\n  }, [hapticsEnabled]);\n  useEffect(() => {\n    localStorage.setItem('ttt_tilt', tiltEnabled ? '1' : '0');\n  }, [tiltEnabled]);\n  useEffect(() => {\n    localStorage.setItem('ttt_theme', theme);\n  }, [theme]);\n\n  // Autofill Lightning username from URL (#p_add=user@speed.app or ?p_add=)\n  useEffect(() => {\n    try {\n      const hash = window.location.hash.substring(1);\n      const hashParams = new URLSearchParams(hash);\n      const urlParams = new URLSearchParams(window.location.search);\n      const pAdd = hashParams.get('p_add') || urlParams.get('p_add');\n      if (pAdd) {\n        const username = pAdd.split('@')[0];\n        setLightningAddress(username);\n        localStorage.setItem('ttt_lightningAddress', username);\n        localStorage.setItem('ttt_lastAddress', username);\n      } else if (!lightningAddress) {\n        const last = localStorage.getItem('ttt_lastAddress');\n        if (last) setLightningAddress(last);\n      }\n    } catch {}\n  }, []);\n\n  // Countdown timer for current turn\n  useEffect(() => {\n    if (!turnDeadline || gameState !== 'playing') {\n      setTimeLeft(null);\n      return;\n    }\n    const update = () => {\n      const ms = Math.max(0, Number(turnDeadline) - Date.now());\n      setTimeLeft(Math.ceil(ms / 1000));\n    };\n    update();\n    const t = setInterval(update, 250);\n    return () => clearInterval(t);\n  }, [turnDeadline, gameState]);\n  const doResign = () => {\n    if (!socket || !gameId) return;\n    socket.emit('resign', {\n      gameId\n    });\n    sfxPlay('resign');\n    triggerHaptic([20, 30, 20]);\n  };\n  const copyPayment = async () => {\n    try {\n      if (!paymentInfo) return;\n      const text = paymentInfo.lightningInvoice || paymentInfo.hostedInvoiceUrl || '';\n      if (!text) return;\n      await navigator.clipboard.writeText(text);\n      setMessage('Payment request copied to clipboard');\n    } catch (e) {\n      setMessage('Copy failed');\n    }\n  };\n\n  // Audio & Haptics\n  const ensureAudioCtx = () => {\n    if (!audioCtxRef.current) {\n      const AC = window.AudioContext || window.webkitAudioContext;\n      if (AC) audioCtxRef.current = new AC();\n    }\n    return audioCtxRef.current;\n  };\n  const tone = (ctx, {\n    freq = 600,\n    time = 0,\n    dur = 0.08,\n    type = 'sine',\n    gain = 0.08\n  }) => {\n    const osc = ctx.createOscillator();\n    const g = ctx.createGain();\n    osc.type = type;\n    osc.frequency.value = freq;\n    osc.connect(g);\n    g.connect(ctx.destination);\n    const t0 = ctx.currentTime + time;\n    g.gain.setValueAtTime(0.0001, t0);\n    g.gain.linearRampToValueAtTime(gain, t0 + 0.01);\n    g.gain.exponentialRampToValueAtTime(0.0001, t0 + dur);\n    osc.start(t0);\n    osc.stop(t0 + dur + 0.02);\n  };\n  const sfxPlay = name => {\n    if (!sfxEnabled) return;\n    const ctx = ensureAudioCtx();\n    if (!ctx) return;\n    if (name === 'move') {\n      tone(ctx, {\n        freq: 740,\n        dur: 0.06,\n        type: 'triangle',\n        gain: 0.06\n      });\n    } else if (name === 'win') {\n      tone(ctx, {\n        freq: 523,\n        dur: 0.10,\n        type: 'sine',\n        gain: 0.06\n      });\n      tone(ctx, {\n        freq: 659,\n        time: 0.10,\n        dur: 0.10,\n        type: 'sine',\n        gain: 0.06\n      });\n      tone(ctx, {\n        freq: 784,\n        time: 0.20,\n        dur: 0.12,\n        type: 'sine',\n        gain: 0.06\n      });\n    } else if (name === 'lose') {\n      tone(ctx, {\n        freq: 440,\n        dur: 0.12,\n        type: 'sawtooth',\n        gain: 0.05\n      });\n      tone(ctx, {\n        freq: 330,\n        time: 0.10,\n        dur: 0.14,\n        type: 'sawtooth',\n        gain: 0.05\n      });\n    } else if (name === 'resign') {\n      tone(ctx, {\n        freq: 300,\n        dur: 0.12,\n        type: 'square',\n        gain: 0.05\n      });\n      tone(ctx, {\n        freq: 220,\n        time: 0.10,\n        dur: 0.16,\n        type: 'square',\n        gain: 0.05\n      });\n    }\n  };\n  const triggerHaptic = pattern => {\n    try {\n      if (hapticsEnabled && navigator.vibrate) navigator.vibrate(pattern);\n    } catch {}\n  };\n  const shareResult = async () => {\n    if (gameState !== 'finished') return;\n    const last = history[0];\n    const text = last ? `I just ${last.outcome === 'win' ? 'won' : 'played'} ${Math.abs(last.amount)} SATS in Tic‑Tac‑Toe!` : 'Play Tic‑Tac‑Toe with SATS!';\n    try {\n      if (navigator.share) {\n        await navigator.share({\n          title: 'Tic‑Tac‑Toe',\n          text,\n          url: window.location.origin\n        });\n      } else {\n        await navigator.clipboard.writeText(`${text} ${window.location.origin}`);\n        setMessage('Share text copied to clipboard');\n      }\n    } catch {}\n  };\n\n  // 3D Tilt handlers\n  const handleBoardPointer = e => {\n    if (!tiltEnabled || !boardRef.current) return;\n    const rect = boardRef.current.getBoundingClientRect();\n    const x = (e.clientX - rect.left) / rect.width; // 0..1\n    const y = (e.clientY - rect.top) / rect.height; // 0..1\n    const ry = (x - 0.5) * 8; // deg\n    const rx = -(y - 0.5) * 8;\n    boardRef.current.style.setProperty('--rx', rx.toFixed(2) + 'deg');\n    boardRef.current.style.setProperty('--ry', ry.toFixed(2) + 'deg');\n  };\n  const resetBoardTilt = () => {\n    if (!boardRef.current) return;\n    boardRef.current.style.setProperty('--rx', '0deg');\n    boardRef.current.style.setProperty('--ry', '0deg');\n  };\n\n  // Simple canvas confetti on win\n  const launchConfetti = () => {\n    try {\n      const host = confettiRef.current || document.body;\n      const canvas = document.createElement('canvas');\n      const dpr = window.devicePixelRatio || 1;\n      const w = window.innerWidth;\n      const h = window.innerHeight;\n      canvas.width = w * dpr;\n      canvas.height = h * dpr;\n      canvas.style.width = w + 'px';\n      canvas.style.height = h + 'px';\n      canvas.style.position = 'fixed';\n      canvas.style.left = '0';\n      canvas.style.top = '0';\n      canvas.style.pointerEvents = 'none';\n      canvas.style.zIndex = '9999';\n      const ctx = canvas.getContext('2d');\n      ctx.scale(dpr, dpr);\n      host.appendChild(canvas);\n      const colors = ['#60a5fa', '#f59e0b', '#22c55e', '#e879f9', '#f43f5e'];\n      const N = 120;\n      const particles = Array.from({\n        length: N\n      }).map(() => ({\n        x: w / 2 + (Math.random() - 0.5) * 80,\n        y: h / 2 + (Math.random() - 0.5) * 40,\n        r: 3 + Math.random() * 4,\n        c: colors[Math.random() * colors.length | 0],\n        vx: (Math.random() - 0.5) * 6,\n        vy: -Math.random() * 6 - 2,\n        g: 0.12 + Math.random() * 0.08,\n        a: 1,\n        life: 60 + Math.random() * 40\n      }));\n      let frame = 0;\n      const tick = () => {\n        frame++;\n        ctx.clearRect(0, 0, w, h);\n        particles.forEach(p => {\n          p.x += p.vx;\n          p.y += p.vy;\n          p.vy += p.g;\n          p.a *= 0.992;\n          p.life--;\n          ctx.globalAlpha = Math.max(0, p.a);\n          ctx.fillStyle = p.c;\n          ctx.beginPath();\n          ctx.arc(p.x, p.y, p.r, 0, Math.PI * 2);\n          ctx.fill();\n        });\n        if (frame < 180) requestAnimationFrame(tick);else host.removeChild(canvas);\n      };\n      tick();\n    } catch {}\n  };\n\n  // Circular timer progress ring\n  function TimerRing({\n    progress,\n    size = 54\n  }) {\n    const stroke = 6;\n    const r = (size - stroke) / 2;\n    const c = 2 * Math.PI * r;\n    const clamped = Math.max(0, Math.min(1, progress !== null && progress !== void 0 ? progress : 0));\n    const dash = c * clamped;\n    return /*#__PURE__*/_jsxDEV(\"svg\", {\n      className: \"timer-ring\",\n      width: size,\n      height: size,\n      viewBox: `0 0 ${size} ${size}`,\n      \"aria-hidden\": \"true\",\n      children: [/*#__PURE__*/_jsxDEV(\"defs\", {\n        children: /*#__PURE__*/_jsxDEV(\"linearGradient\", {\n          id: \"ringGrad\",\n          x1: \"0\",\n          y1: \"0\",\n          x2: \"1\",\n          y2: \"1\",\n          children: [/*#__PURE__*/_jsxDEV(\"stop\", {\n            offset: \"0%\",\n            stopColor: \"#60a5fa\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 479,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"stop\", {\n            offset: \"100%\",\n            stopColor: \"#f59e0b\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 480,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 478,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 477,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n        cx: size / 2,\n        cy: size / 2,\n        r: r,\n        stroke: \"rgba(148,163,184,0.25)\",\n        strokeWidth: stroke,\n        fill: \"none\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 483,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n        cx: size / 2,\n        cy: size / 2,\n        r: r,\n        stroke: \"url(#ringGrad)\",\n        strokeWidth: stroke,\n        fill: \"none\",\n        strokeDasharray: `${c}`,\n        strokeDashoffset: `${c - dash}`,\n        strokeLinecap: \"round\",\n        transform: `rotate(-90 ${size / 2} ${size / 2})`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 484,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 476,\n      columnNumber: 7\n    }, this);\n  }\n  const turnProgress = typeof timeLeft === 'number' && typeof turnDuration === 'number' && turnDuration > 0 ? Math.max(0, Math.min(1, timeLeft / turnDuration)) : null;\n\n  // Swipe gestures for tab switching\n  const modalOpen = showSettings || showStartModal || showHowToModal || showSupportModal;\n  const handleTouchStart = e => {\n    var _e$touches;\n    if (modalOpen || !((_e$touches = e.touches) !== null && _e$touches !== void 0 && _e$touches.length)) return;\n    const t = e.touches[0];\n    touchStartRef.current = {\n      x: t.clientX,\n      y: t.clientY,\n      t: Date.now()\n    };\n  };\n  const handleTouchEnd = e => {\n    var _e$changedTouches;\n    if (modalOpen || !touchStartRef.current || !((_e$changedTouches = e.changedTouches) !== null && _e$changedTouches !== void 0 && _e$changedTouches.length)) return;\n    const start = touchStartRef.current;\n    touchStartRef.current = null;\n    const t = e.changedTouches[0];\n    const dx = t.clientX - start.x;\n    const dy = t.clientY - start.y;\n    if (Math.abs(dx) > 55 && Math.abs(dx) > Math.abs(dy)) {\n      if (dx < 0 && activeTab === 'Menu') setActiveTab('History');else if (dx > 0 && activeTab === 'History') setActiveTab('Menu');\n    }\n  };\n\n  // Keyboard shortcuts (Menu): 1=Start, 2=HowTo, 3=Support\n  useEffect(() => {\n    const onKey = e => {\n      if (modalOpen || activeTab !== 'Menu') return;\n      if (e.code === 'Digit1') setShowStartModal(true);else if (e.code === 'Digit2') setShowHowToModal(true);else if (e.code === 'Digit3') setShowSupportModal(true);\n    };\n    window.addEventListener('keydown', onKey);\n    return () => window.removeEventListener('keydown', onKey);\n  }, [modalOpen, activeTab]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `app theme-${theme}`,\n    onTouchStart: handleTouchStart,\n    onTouchEnd: handleTouchEnd,\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"app-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"brand\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"brand-mark\",\n          \"aria-hidden\": true,\n          children: \"\\u26A1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 529,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"brand-title\",\n          children: \"Tic\\u2011Tac\\u2011Toe\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 530,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 528,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-actions\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"neo-btn small\",\n          onClick: () => setShowSettings(true),\n          \"aria-label\": \"Open settings\",\n          children: \"\\u2699\\uFE0F Settings\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 533,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 532,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 527,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"tabs neo-tabs\",\n      children: ['Menu', 'History'].map(t => /*#__PURE__*/_jsxDEV(\"button\", {\n        className: activeTab === t ? 'active' : '',\n        onClick: () => setActiveTab(t),\n        children: t\n      }, t, false, {\n        fileName: _jsxFileName,\n        lineNumber: 538,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 536,\n      columnNumber: 7\n    }, this), activeTab === 'Menu' && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"menu-page\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"menu-center\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cta-col\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cta-item\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"neo-btn cta-main primary\",\n              onClick: () => setShowStartModal(true),\n              disabled: gameState === 'playing',\n              \"aria-label\": `Start Game — Win ${payoutAmount} SATS`,\n              children: \"Start Game\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 547,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 546,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cta-item\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"neo-btn cta-main\",\n              onClick: () => setShowHowToModal(true),\n              \"aria-label\": \"How to Play \\u2014 Rules and tips\",\n              children: \"How to Play\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 555,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 554,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cta-item\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"neo-btn cta-main outline\",\n              onClick: () => setShowSupportModal(true),\n              \"aria-label\": \"Contact Support on Telegram\",\n              children: \"Contact Support\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 562,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 561,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 545,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 544,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(PracticeBoard, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 570,\n        columnNumber: 11\n      }, this), (gameState === 'playing' || gameState === 'finished') && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"section\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"status\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"hud\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"hud-left\",\n              children: gameState === 'playing' && turnProgress != null ? /*#__PURE__*/_jsxDEV(TimerRing, {\n                progress: turnProgress,\n                size: 58\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 578,\n                columnNumber: 23\n              }, this) : null\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 576,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"hud-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"message-line\",\n                children: message\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 582,\n                columnNumber: 21\n              }, this), gameState === 'playing' && typeof timeLeft === 'number' ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"countdown\",\n                role: \"timer\",\n                \"aria-live\": \"polite\",\n                children: [\"\\u23F3 \", timeLeft, \"s\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 584,\n                columnNumber: 23\n              }, this) : null]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 581,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"hud-right\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"meta\",\n                children: [\"You: \", symbol || '-']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 588,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 587,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 575,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 574,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: boardRef,\n          className: `board neo-board ${tiltEnabled ? 'tilt' : ''}`,\n          onPointerMove: handleBoardPointer,\n          onPointerLeave: resetBoardTilt,\n          children: board.map((cell, idx) => {\n            const win = Array.isArray(winningLine) && winningLine.includes(idx);\n            const last = lastMove === idx;\n            const xo = cell === 'X' ? ' x' : cell === 'O' ? ' o' : '';\n            const cls = `cell${xo}${win ? ' win' : ''}${last ? ' last' : ''}`;\n            const disabled = gameState !== 'playing' || turn !== socketId || board[idx] !== null;\n            return /*#__PURE__*/_jsxDEV(\"button\", {\n              className: cls,\n              onClick: () => onCellClick(idx),\n              disabled: disabled,\n              \"aria-label\": `Cell ${idx + 1}`,\n              children: cell || ''\n            }, idx, false, {\n              fileName: _jsxFileName,\n              lineNumber: 600,\n              columnNumber: 21\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 592,\n          columnNumber: 15\n        }, this), gameState === 'playing' ? /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            gap: 8,\n            justifyContent: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"neo-btn outline\",\n            onClick: doResign,\n            children: \"Resign\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 608,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"neo-btn\",\n            onClick: resetToMenu,\n            children: \"Return to Menu\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 609,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 607,\n          columnNumber: 17\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            gap: 8,\n            justifyContent: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"neo-btn outline\",\n            onClick: shareResult,\n            children: \"Share Result\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 613,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"neo-btn\",\n            onClick: resetToMenu,\n            children: \"Return to Menu\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 614,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 612,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 573,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 543,\n      columnNumber: 9\n    }, this), false && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"status\",\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 625,\n      columnNumber: 9\n    }, this), false && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"panel\",\n      children: gameState === 'playing' || gameState === 'finished' ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"status\",\n          children: [message, gameState === 'playing' && typeof timeLeft === 'number' ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"countdown\",\n            role: \"timer\",\n            \"aria-live\": \"polite\",\n            children: [\"\\u23F3 \", timeLeft, \"s\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 635,\n            columnNumber: 19\n          }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"meta\",\n            children: [\"You: \", symbol || '-']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 637,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 632,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"board\",\n          children: board.map((cell, idx) => {\n            const win = Array.isArray(winningLine) && winningLine.includes(idx);\n            const last = lastMove === idx;\n            const xo = cell === 'X' ? ' x' : cell === 'O' ? ' o' : '';\n            const cls = `cell${xo}${win ? ' win' : ''}${last ? ' last' : ''}`;\n            const disabled = gameState !== 'playing' || turn !== socketId || board[idx] !== null;\n            return /*#__PURE__*/_jsxDEV(\"button\", {\n              className: cls,\n              onClick: () => onCellClick(idx),\n              disabled: disabled,\n              \"aria-label\": `Cell ${idx + 1}`,\n              children: cell || ''\n            }, idx, false, {\n              fileName: _jsxFileName,\n              lineNumber: 647,\n              columnNumber: 21\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 639,\n          columnNumber: 15\n        }, this), gameState === 'playing' ? /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            gap: 8,\n            justifyContent: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: doResign,\n            children: \"Resign\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 655,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: resetToMenu,\n            children: \"Return to Menu\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 656,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 654,\n          columnNumber: 17\n        }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: resetToMenu,\n          children: \"Return to Menu\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 659,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"status\",\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 663,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 629,\n      columnNumber: 9\n    }, this), activeTab === 'History' && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"panel neo-panel glass\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stats-chips\",\n        \"aria-label\": \"Your stats\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"chip\",\n          children: [\"Wins: \", stats.wins]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 671,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"chip\",\n          children: [\"Losses: \", stats.losses]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 672,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"chip\",\n          children: [\"Win rate: \", stats.winrate, \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 673,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"chip\",\n          children: [\"Streak: \", stats.streak]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 674,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"chip\",\n          children: [\"Net: \", stats.net, \" SATS\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 675,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 670,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Recent Games\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 677,\n        columnNumber: 11\n      }, this), history.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No games yet.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 679,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"history\",\n        children: history.map(h => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: new Date(h.ts).toLocaleString()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 684,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"Bet: \", h.bet]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 685,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [h.outcome === 'win' ? '+' : '', h.amount, \" SATS\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 686,\n            columnNumber: 19\n          }, this)]\n        }, h.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 683,\n          columnNumber: 17\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 681,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 669,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: confettiRef,\n      className: \"confetti-layer\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 693,\n      columnNumber: 7\n    }, this), showSettings && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-backdrop\",\n      onClick: () => setShowSettings(false),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal\",\n        onClick: e => e.stopPropagation(),\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Settings\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 698,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"section\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              checked: sfxEnabled,\n              onChange: e => setSfxEnabled(e.target.checked)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 700,\n              columnNumber: 22\n            }, this), \" Sound effects\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 700,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              checked: hapticsEnabled,\n              onChange: e => setHapticsEnabled(e.target.checked)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 701,\n              columnNumber: 22\n            }, this), \" Haptics (vibration)\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 701,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              checked: tiltEnabled,\n              onChange: e => setTiltEnabled(e.target.checked)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 702,\n              columnNumber: 22\n            }, this), \" 3D board tilt\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 702,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 699,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"section\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              gap: 8,\n              flexWrap: 'wrap'\n            },\n            children: ['minimal', 'neon', 'ocean', 'sunset', 'majestic'].map(tn => /*#__PURE__*/_jsxDEV(\"button\", {\n              className: `neo-btn ${theme === tn ? 'primary' : ''}`,\n              onClick: () => setTheme(tn),\n              children: tn\n            }, tn, false, {\n              fileName: _jsxFileName,\n              lineNumber: 707,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 705,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 704,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'flex-end',\n            gap: 8\n          },\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"neo-btn\",\n            onClick: () => setShowSettings(false),\n            children: \"Close\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 712,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 711,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 697,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 696,\n      columnNumber: 9\n    }, this), showStartModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-backdrop\",\n      onClick: () => setShowStartModal(false),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal start-modal\",\n        onClick: e => e.stopPropagation(),\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Start Game\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 721,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"section\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"start-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"badges\",\n              \"aria-live\": \"polite\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: `badge ${connected ? 'ok' : 'warn'}`,\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"dot\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 726,\n                  columnNumber: 74\n                }, this), \" \", connected ? 'Connected' : 'Connecting']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 726,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `badge ${paymentInfo ? 'ok' : 'muted'}`,\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"dot\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 727,\n                  columnNumber: 77\n                }, this), \" \", paymentInfo ? 'Invoice Ready' : 'No Invoice']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 727,\n                columnNumber: 19\n              }, this), paymentInfo !== null && paymentInfo !== void 0 && paymentInfo.demo ? /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"badge info\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"dot\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 728,\n                  columnNumber: 70\n                }, this), \" Demo Mode\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 728,\n                columnNumber: 41\n              }, this) : null]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 725,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"subtitle\",\n              children: [\"Win \", payoutAmount, \" SATS\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 730,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 724,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"start-modal-grid\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"start-form\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"ln-username\",\n                children: \"Lightning Username\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 736,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"input-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"prefix\",\n                  \"aria-hidden\": true,\n                  children: \"\\u26A1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 738,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  id: \"ln-username\",\n                  value: lightningAddress,\n                  onChange: e => setLightningAddress(e.target.value),\n                  placeholder: \"e.g. user\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 739,\n                  columnNumber: 21\n                }, this), lightningAddress ? /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  className: \"suffix-btn\",\n                  onClick: () => setLightningAddress(''),\n                  \"aria-label\": \"Clear username\",\n                  children: \"\\u2715\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 741,\n                  columnNumber: 23\n                }, this) : null]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 737,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                className: \"helper\",\n                children: \"Use your Speed username (no domain needed)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 744,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bet-group\",\n                role: \"radiogroup\",\n                \"aria-label\": \"Bet Amount\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bet-grid\",\n                  children: BET_OPTIONS.map(o => /*#__PURE__*/_jsxDEV(\"label\", {\n                    className: `bet-chip ${String(o.amount) === String(betAmount) ? 'active' : ''}`,\n                    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"radio\",\n                      name: \"bet\",\n                      value: o.amount,\n                      checked: String(o.amount) === String(betAmount),\n                      onChange: () => setBetAmount(String(o.amount))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 750,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"amt\",\n                      children: o.amount\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 751,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"win\",\n                      children: [\"Win \", o.winnings]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 752,\n                      columnNumber: 27\n                    }, this)]\n                  }, o.amount, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 749,\n                    columnNumber: 25\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 747,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  className: \"sr-only\",\n                  value: betAmount,\n                  onChange: e => setBetAmount(e.target.value),\n                  \"aria-hidden\": \"true\",\n                  tabIndex: -1,\n                  children: BET_OPTIONS.map(o => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: o.amount,\n                    children: [o.amount, \" SATS (Win \", o.winnings, \")\"]\n                  }, o.amount, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 759,\n                    columnNumber: 23\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 757,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 746,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"section\",\n                style: {\n                  marginTop: 8\n                },\n                children: /*#__PURE__*/_jsxDEV(\"label\", {\n                  style: {\n                    display: 'flex',\n                    gap: 8,\n                    alignItems: 'flex-start'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"checkbox\",\n                    checked: acceptedTerms,\n                    onChange: e => setAcceptedTerms(e.target.checked)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 766,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [\"I agree to the \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Terms & Conditions\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 768,\n                      columnNumber: 38\n                    }, this), \" and \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Privacy Policy\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 768,\n                      columnNumber: 78\n                    }, this), \". You may be matched with an AI bot opponent. Winnings are paid automatically to your Lightning address.\", /*#__PURE__*/_jsxDEV(\"details\", {\n                      style: {\n                        marginTop: 6\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(\"summary\", {\n                        children: \"View Terms\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 770,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                        style: {\n                          marginTop: 6\n                        },\n                        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                          children: \"Must be 18+; local laws apply.\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 772,\n                          columnNumber: 27\n                        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                          children: \"Gameplay may include AI bots; outcomes follow predefined fairness patterns per bet tier.\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 773,\n                          columnNumber: 27\n                        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                          children: \"Payouts are sent to the Lightning address you provide; ensure it\\u2019s correct.\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 774,\n                          columnNumber: 27\n                        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                          children: \"No warranties; service provided \\u201Cas is\\u201D.\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 775,\n                          columnNumber: 27\n                        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                          children: \"By playing you accept all risks and our privacy practices.\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 776,\n                          columnNumber: 27\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 771,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 769,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 767,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 765,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 764,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-actions\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"neo-btn\",\n                  onClick: () => setShowStartModal(false),\n                  children: \"Close\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 784,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"neo-btn primary\",\n                  onClick: doJoin,\n                  disabled: !connected || isWaitingForPayment || !acceptedTerms,\n                  children: connected ? 'Join & Pay' : 'Connecting...'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 785,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 783,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 735,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"invoice-panel neo-panel glass\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                style: {\n                  marginTop: 0\n                },\n                children: \"Invoice\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 793,\n                columnNumber: 17\n              }, this), gameState === 'awaitingPayment' && paymentInfo ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"payment\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"payment-msg\",\n                  children: message\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 796,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"qr-frame\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"qr\",\n                    children: /*#__PURE__*/_jsxDEV(QRCodeSVG, {\n                      value: paymentInfo.lightningInvoice || paymentInfo.hostedInvoiceUrl || '',\n                      size: 180\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 799,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 798,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 797,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"actions\",\n                  children: [/*#__PURE__*/_jsxDEV(\"a\", {\n                    className: \"neo-btn outline\",\n                    href: paymentInfo.hostedInvoiceUrl,\n                    target: \"_blank\",\n                    rel: \"noreferrer\",\n                    children: \"Open Payment Page\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 803,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"neo-btn\",\n                    onClick: copyPayment,\n                    children: \"Copy Payment Request\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 804,\n                    columnNumber: 23\n                  }, this), paymentInfo.demo ? /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"neo-btn\",\n                    onClick: simulatePayment,\n                    children: \"I have paid (demo)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 806,\n                    columnNumber: 25\n                  }, this) : null]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 802,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 795,\n                columnNumber: 19\n              }, this) : gameState === 'waiting' ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"payment\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"payment-msg\",\n                  children: matchInfo ? 'Opponent found!' : 'Finding an opponent...'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 812,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"qr-frame\",\n                  style: {\n                    padding: 20\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"qr\",\n                    style: {\n                      display: 'flex',\n                      alignItems: 'center',\n                      justifyContent: 'center',\n                      height: 180\n                    },\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"spinner\",\n                      \"aria-label\": \"Searching\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 815,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 814,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 813,\n                  columnNumber: 21\n                }, this), waitingInfo && !matchInfo ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"actions\",\n                  style: {\n                    flexDirection: 'column',\n                    gap: 6\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [\"Estimated wait: \", waitingInfo.minWait, \"\\u2013\", waitingInfo.maxWait, \"s\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 820,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [\"Time left: \", waitingSecondsLeft !== null && waitingSecondsLeft !== void 0 ? waitingSecondsLeft : '...', \"s\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 821,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 819,\n                  columnNumber: 23\n                }, this) : null, matchInfo ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"actions\",\n                  style: {\n                    flexDirection: 'column',\n                    gap: 6\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: (_matchInfo$opponent = matchInfo.opponent) !== null && _matchInfo$opponent !== void 0 && _matchInfo$opponent.isBot ? 'AI Bot ready.' : 'Opponent ready.'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 826,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [\"Starting in: \", matchSecondsLeft !== null && matchSecondsLeft !== void 0 ? matchSecondsLeft : matchInfo.startsIn, \"s\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 827,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 825,\n                  columnNumber: 23\n                }, this) : null]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 811,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"placeholder\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"skeleton\",\n                  \"aria-hidden\": true,\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"skt skt-title\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 834,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"skt skt-qr\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 835,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"skt skt-btn\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 836,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 833,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [\"No invoice yet. Click \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Join & Pay\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 838,\n                    columnNumber: 46\n                  }, this), \" to generate an invoice.\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 838,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 832,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 792,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 733,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"sticky-cta\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bar\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"neo-btn\",\n                onClick: () => setShowStartModal(false),\n                children: \"Close\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 847,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"neo-btn primary\",\n                onClick: doJoin,\n                disabled: !connected || isWaitingForPayment || !acceptedTerms,\n                children: connected ? 'Join & Pay' : 'Connecting...'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 848,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 846,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 845,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 722,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 720,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 719,\n      columnNumber: 9\n    }, this), showHowToModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-backdrop\",\n      onClick: () => setShowHowToModal(false),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal\",\n        onClick: e => e.stopPropagation(),\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"How to Play\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 861,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"section\",\n          children: /*#__PURE__*/_jsxDEV(\"ol\", {\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"Enter your Lightning username and choose a bet (default 50 SATS, win 80 SATS).\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 864,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"Click Join & Pay and pay the invoice (demo mode lets you simulate).\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 865,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"Play Tic\\u2011Tac\\u2011Toe. You have a turn timer; you can resign anytime.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 866,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 863,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 862,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'flex-end'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"neo-btn\",\n            onClick: () => setShowHowToModal(false),\n            children: \"Close\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 870,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 869,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 860,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 859,\n      columnNumber: 9\n    }, this), showSupportModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-backdrop\",\n      onClick: () => setShowSupportModal(false),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal\",\n        onClick: e => e.stopPropagation(),\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Contact Support\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 879,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"section\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Chat with us on Telegram:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 881,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              className: \"neo-btn outline\",\n              href: \"https://t.me/ThunderSlate\",\n              target: \"_blank\",\n              rel: \"noreferrer\",\n              children: \"Open Telegram @ThunderSlate\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 882,\n              columnNumber: 18\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 882,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 880,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'flex-end'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"neo-btn\",\n            onClick: () => setShowSupportModal(false),\n            children: \"Close\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 885,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 884,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 878,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 877,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 526,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"+tbBO3slrXYmEGpyhY17F4V9ewQ=\");\n_c3 = App;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"BET_OPTIONS$Object.keys(PAYOUTS).map\");\n$RefreshReg$(_c2, \"BET_OPTIONS\");\n$RefreshReg$(_c3, \"App\");","map":{"version":3,"names":["React","useEffect","useMemo","useRef","useState","io","QRCodeSVG","PracticeBoard","jsxDEV","_jsxDEV","Fragment","_Fragment","PAYOUTS","winner","BET_OPTIONS","Object","keys","map","_c","k","amount","parseInt","winnings","_c2","BACKEND_URL","process","env","REACT_APP_BACKEND_URL","App","_s","_matchInfo$opponent","activeTab","setActiveTab","gameState","setGameState","socket","setSocket","socketId","setSocketId","betAmount","setBetAmount","localStorage","getItem","payoutAmount","setPayoutAmount","saved","opt","find","o","String","lightningAddress","setLightningAddress","paymentInfo","setPaymentInfo","isWaitingForPayment","setIsWaitingForPayment","gameId","setGameId","symbol","setSymbol","turn","setTurn","board","setBoard","Array","fill","message","setMessage","lastMove","setLastMove","winningLine","setWinningLine","turnDeadline","setTurnDeadline","timeLeft","setTimeLeft","connected","setConnected","showHowToModal","setShowHowToModal","showStartModal","setShowStartModal","showSupportModal","setShowSupportModal","theme","setTheme","turnDuration","setTurnDuration","confettiRef","showSettings","setShowSettings","sfxEnabled","setSfxEnabled","hapticsEnabled","setHapticsEnabled","tiltEnabled","setTiltEnabled","boardRef","audioCtxRef","touchStartRef","acceptedTerms","setAcceptedTerms","waitingInfo","setWaitingInfo","waitingIntervalRef","waitingSecondsLeft","setWaitingSecondsLeft","matchInfo","setMatchInfo","matchIntervalRef","matchSecondsLeft","setMatchSecondsLeft","history","setHistory","JSON","parse","stats","wins","losses","net","streak","cur","h","outcome","total","wr","Math","round","winrate","s","transports","handlers","connect","id","disconnect","connect_error","err","error","payload","msg","paymentRequest","lightningInvoice","hostedInvoiceUrl","amountSats","amountUSD","invoiceId","demo","paymentVerified","transaction","waitingForOpponent","minWait","maxWait","estWaitSeconds","spawnAt","current","clearInterval","tick","secs","max","ceil","Number","Date","now","setInterval","matchFound","opponent","startsIn","startAt","isBot","startGame","ttl","boardUpdate","nextTurn","gameEnd","winnerSymbol","_PAYOUTS$betAmount","isArray","isWin","entry","ts","toISOString","bet","newHist","slice","setItem","stringify","launchConfetti","sfxPlay","triggerHaptic","entries","forEach","evt","fn","on","off","doJoin","user","trim","addr","includes","emit","simulatePayment","onCellClick","idx","position","resetToMenu","hash","window","location","substring","hashParams","URLSearchParams","urlParams","search","pAdd","get","username","split","last","update","ms","t","doResign","copyPayment","text","navigator","clipboard","writeText","e","ensureAudioCtx","AC","AudioContext","webkitAudioContext","tone","ctx","freq","time","dur","type","gain","osc","createOscillator","g","createGain","frequency","value","destination","t0","currentTime","setValueAtTime","linearRampToValueAtTime","exponentialRampToValueAtTime","start","stop","name","pattern","vibrate","shareResult","abs","share","title","url","origin","handleBoardPointer","rect","getBoundingClientRect","x","clientX","left","width","y","clientY","top","height","ry","rx","style","setProperty","toFixed","resetBoardTilt","host","document","body","canvas","createElement","dpr","devicePixelRatio","w","innerWidth","innerHeight","pointerEvents","zIndex","getContext","scale","appendChild","colors","N","particles","from","length","random","r","c","vx","vy","a","life","frame","clearRect","p","globalAlpha","fillStyle","beginPath","arc","PI","requestAnimationFrame","removeChild","TimerRing","progress","size","stroke","clamped","min","dash","className","viewBox","children","x1","y1","x2","y2","offset","stopColor","fileName","_jsxFileName","lineNumber","columnNumber","cx","cy","strokeWidth","strokeDasharray","strokeDashoffset","strokeLinecap","transform","turnProgress","modalOpen","handleTouchStart","_e$touches","touches","handleTouchEnd","_e$changedTouches","changedTouches","dx","dy","onKey","code","addEventListener","removeEventListener","onTouchStart","onTouchEnd","onClick","disabled","role","ref","onPointerMove","onPointerLeave","cell","win","xo","cls","display","gap","justifyContent","toLocaleString","stopPropagation","checked","onChange","target","flexWrap","tn","htmlFor","placeholder","tabIndex","marginTop","alignItems","href","rel","padding","flexDirection","_c3","$RefreshReg$"],"sources":["C:/Users/OM/Desktop/Tic-Tac-Toe/frontend/src/App.js"],"sourcesContent":["import React, { useEffect, useMemo, useRef, useState } from 'react';\nimport io from 'socket.io-client';\nimport { QRCodeSVG } from 'qrcode.react';\n\nimport PracticeBoard from './components/PracticeBoard';\nconst PAYOUTS = {\n  50: { winner: 80 },\n  300: { winner: 500 },\n  500: { winner: 800 },\n  1000: { winner: 1700 },\n  5000: { winner: 8000 },\n  10000: { winner: 17000 },\n};\nconst BET_OPTIONS = Object.keys(PAYOUTS).map(k => ({ amount: parseInt(k, 10), winnings: PAYOUTS[k].winner }));\n\nconst BACKEND_URL = process.env.REACT_APP_BACKEND_URL || 'http://localhost:4000';\n\nexport default function App() {\n  const [activeTab, setActiveTab] = useState('Menu');\n  const [gameState, setGameState] = useState('splash');\n  const [socket, setSocket] = useState(null);\n  const [socketId, setSocketId] = useState(null);\n\n  const [betAmount, setBetAmount] = useState(() => localStorage.getItem('ttt_lastBet') || '50');\n  const [payoutAmount, setPayoutAmount] = useState(() => {\n    const saved = localStorage.getItem('ttt_lastBet');\n    const opt = BET_OPTIONS.find(o => o.amount === parseInt(saved || '50'));\n    return opt ? String(opt.winnings) : '80';\n  });\n  const [lightningAddress, setLightningAddress] = useState(localStorage.getItem('ttt_lightningAddress') || '');\n\n  // Payment state\n  const [paymentInfo, setPaymentInfo] = useState(null); // { invoiceId, lightningInvoice, hostedInvoiceUrl, amountSats, amountUSD }\n  const [isWaitingForPayment, setIsWaitingForPayment] = useState(false);\n\n  // Game state\n  const [gameId, setGameId] = useState(null);\n  const [symbol, setSymbol] = useState(null); // 'X' | 'O'\n  const [turn, setTurn] = useState(null); // socketId whose turn\n  const [board, setBoard] = useState(Array(9).fill(null));\n  const [message, setMessage] = useState('');\n  const [lastMove, setLastMove] = useState(null);\n  const [winningLine, setWinningLine] = useState(null);\n  const [turnDeadline, setTurnDeadline] = useState(null);\n  const [timeLeft, setTimeLeft] = useState(null); // seconds\n  const [connected, setConnected] = useState(false);\n  const [showHowToModal, setShowHowToModal] = useState(false);\n  const [showStartModal, setShowStartModal] = useState(false);\n  const [showSupportModal, setShowSupportModal] = useState(false);\n  const [theme, setTheme] = useState(() => localStorage.getItem('ttt_theme') || 'minimal');\n  const [turnDuration, setTurnDuration] = useState(null); // seconds for current turn\n  const confettiRef = useRef(null);\n  const [showSettings, setShowSettings] = useState(false);\n  const [sfxEnabled, setSfxEnabled] = useState(() => localStorage.getItem('ttt_sfx') !== '0');\n  const [hapticsEnabled, setHapticsEnabled] = useState(() => localStorage.getItem('ttt_haptics') !== '0');\n  const [tiltEnabled, setTiltEnabled] = useState(() => localStorage.getItem('ttt_tilt') !== '0');\n  const boardRef = useRef(null);\n  const audioCtxRef = useRef(null);\n  const touchStartRef = useRef(null);\n  const [acceptedTerms, setAcceptedTerms] = useState(false);\n  const [waitingInfo, setWaitingInfo] = useState(null); // { minWait, maxWait, estWaitSeconds, spawnAt }\n  const waitingIntervalRef = useRef(null);\n  const [waitingSecondsLeft, setWaitingSecondsLeft] = useState(null);\n  const [matchInfo, setMatchInfo] = useState(null); // { opponent, startsIn, startAt }\n  const matchIntervalRef = useRef(null);\n  const [matchSecondsLeft, setMatchSecondsLeft] = useState(null);\n\n  // History\n  const [history, setHistory] = useState(() => {\n    try { return JSON.parse(localStorage.getItem('ttt_history') || '[]'); } catch { return []; }\n  });\n\n  const stats = useMemo(() => {\n    let wins = 0, losses = 0, net = 0, streak = 0, cur = 0;\n    for (const h of history) {\n      if (h.outcome === 'win') { wins++; net += h.amount; cur = cur >= 0 ? cur + 1 : 1; }\n      else { losses++; net += h.amount; cur = cur <= 0 ? cur - 1 : -1; }\n    }\n    streak = cur;\n    const total = wins + losses;\n    const wr = total ? Math.round((wins / total) * 100) : 0;\n    return { wins, losses, net, streak, winrate: wr };\n  }, [history]);\n\n  useEffect(() => {\n    const s = io(BACKEND_URL, { transports: ['websocket', 'polling'] });\n    setSocket(s);\n\n    const handlers = {\n      connect: () => {\n        setSocketId(s.id);\n        setConnected(true);\n      },\n      disconnect: () => {\n        setConnected(false);\n        setMessage('Disconnected. Retrying...');\n      },\n      connect_error: (err) => {\n        setConnected(false);\n        setMessage(`Cannot reach server at ${BACKEND_URL}`);\n      },\n      error: (payload) => {\n        const msg = typeof payload === 'string' ? payload : (payload?.message || 'Error');\n        setMessage(msg);\n      },\n      paymentRequest: ({ lightningInvoice, hostedInvoiceUrl, amountSats, amountUSD, invoiceId, demo }) => {\n        setPaymentInfo({ lightningInvoice, hostedInvoiceUrl, amountSats, amountUSD, invoiceId, demo: !!demo });\n        setIsWaitingForPayment(true);\n        setMessage(`Pay ${amountSats} SATS (~$${amountUSD})`);\n        setGameState('awaitingPayment');\n      },\n      paymentVerified: () => {\n        setIsWaitingForPayment(false);\n        setMessage('Payment verified! Waiting for opponent...');\n        setGameState('waiting');\n      },\n      transaction: ({ message }) => {\n        setMessage(message);\n      },\n      waitingForOpponent: ({ minWait, maxWait, estWaitSeconds, spawnAt }) => {\n        // Start waiting countdown until potential bot spawn or human arrival\n        setGameState('waiting');\n        setWaitingInfo({ minWait, maxWait, estWaitSeconds, spawnAt });\n        setMatchInfo(null);\n        if (waitingIntervalRef.current) { clearInterval(waitingIntervalRef.current); waitingIntervalRef.current = null; }\n        const tick = () => {\n          const secs = Math.max(0, Math.ceil((Number(spawnAt) - Date.now()) / 1000));\n          setWaitingSecondsLeft(secs);\n        };\n        tick();\n        waitingIntervalRef.current = setInterval(tick, 500);\n      },\n      matchFound: ({ opponent, startsIn, startAt }) => {\n        // Switch to pre-game countdown\n        if (waitingIntervalRef.current) { clearInterval(waitingIntervalRef.current); waitingIntervalRef.current = null; }\n        setWaitingInfo(null);\n        setMatchInfo({ opponent, startsIn, startAt });\n        setGameState('waiting');\n        setMessage(opponent?.isBot ? 'Matched with AI bot. Get ready!' : 'Opponent found! Starting soon...');\n        if (matchIntervalRef.current) { clearInterval(matchIntervalRef.current); matchIntervalRef.current = null; }\n        const tick = () => {\n          const secs = Math.max(0, Math.ceil((Number(startAt) - Date.now()) / 1000));\n          setMatchSecondsLeft(secs);\n        };\n        tick();\n        matchIntervalRef.current = setInterval(tick, 250);\n      },\n      startGame: ({ gameId, symbol, turn, message, turnDeadline }) => {\n        // Clear waiting/match timers on actual game start\n        if (waitingIntervalRef.current) { clearInterval(waitingIntervalRef.current); waitingIntervalRef.current = null; }\n        if (matchIntervalRef.current) { clearInterval(matchIntervalRef.current); matchIntervalRef.current = null; }\n        setWaitingInfo(null);\n        setMatchInfo(null);\n        setWaitingSecondsLeft(null);\n        setMatchSecondsLeft(null);\n        setGameId(gameId);\n        setSymbol(symbol);\n        setTurn(turn);\n        setBoard(Array(9).fill(null));\n        setLastMove(null);\n        setWinningLine(null);\n        setTurnDeadline(turnDeadline || null);\n        const ttl = turnDeadline ? Math.max(1, Math.ceil((Number(turnDeadline) - Date.now()) / 1000)) : null;\n        setTurnDuration(ttl);\n        setGameState('playing');\n        setShowStartModal(false);\n        setMessage(message || (turn === s.id ? 'Your move' : \"Opponent's move\"));\n      },\n      boardUpdate: ({ board, lastMove }) => {\n        setBoard(board);\n        setLastMove(typeof lastMove === 'number' ? lastMove : null);\n      },\n      nextTurn: ({ turn, turnDeadline }) => {\n        setTurn(turn);\n        setTurnDeadline(turnDeadline || null);\n        const ttl = turnDeadline ? Math.max(1, Math.ceil((Number(turnDeadline) - Date.now()) / 1000)) : null;\n        setTurnDuration(ttl);\n        setMessage(turn === s.id ? 'Your move' : \"Opponent's move\");\n      },\n      gameEnd: ({ message, winnerSymbol, winningLine }) => {\n        setGameState('finished');\n        setMessage(message);\n        setWinningLine(Array.isArray(winningLine) ? winningLine : null);\n        setTurnDeadline(null);\n        setTimeLeft(null);\n        // Save to history\n        const isWin = winnerSymbol && symbol && winnerSymbol === symbol;\n        const entry = {\n          id: `g_${Date.now()}`,\n          ts: new Date().toISOString(),\n          bet: parseInt(betAmount, 10),\n          outcome: isWin ? 'win' : 'loss',\n          amount: isWin ? (PAYOUTS[betAmount]?.winner - parseInt(betAmount,10)) : -parseInt(betAmount,10),\n        };\n        const newHist = [entry, ...history].slice(0, 100);\n        setHistory(newHist);\n        localStorage.setItem('ttt_history', JSON.stringify(newHist));\n        if (isWin) {\n          launchConfetti();\n          sfxPlay('win');\n          triggerHaptic([30, 40, 30]);\n        } else {\n          sfxPlay('lose');\n          triggerHaptic([15, 25]);\n        }\n      }\n    };\n\n    Object.entries(handlers).forEach(([evt, fn]) => s.on(evt, fn));\n    s.connect();\n\n    return () => {\n      Object.entries(handlers).forEach(([evt, fn]) => s.off(evt, fn));\n      s.disconnect();\n      if (waitingIntervalRef.current) { clearInterval(waitingIntervalRef.current); waitingIntervalRef.current = null; }\n      if (matchIntervalRef.current) { clearInterval(matchIntervalRef.current); matchIntervalRef.current = null; }\n    };\n  }, [BACKEND_URL, betAmount, history]);\n\n  const doJoin = () => {\n    if (!socket || !connected) return;\n    if (!acceptedTerms) { setMessage('Please accept Terms & Conditions to continue'); return; }\n    const bet = parseInt(betAmount, 10);\n    const user = (lightningAddress || '').trim();\n    const addr = user ? (user.includes('@') ? user : `${user}@speed.app`) : 'anon';\n    socket.emit('joinGame', { betAmount: bet, lightningAddress: addr });\n    localStorage.setItem('ttt_lastBet', String(bet));\n    localStorage.setItem('ttt_lightningAddress', user || '');\n    localStorage.setItem('ttt_lastAddress', user || '');\n  };\n\n  const simulatePayment = () => {\n    if (!socket || !paymentInfo) return;\n    socket.emit('simulatePayment', { invoiceId: paymentInfo.invoiceId });\n  };\n\n  const onCellClick = (idx) => {\n    if (gameState !== 'playing') return;\n    if (turn !== socketId) return; // not your turn\n    if (board[idx] !== null) return;\n    sfxPlay('move');\n    triggerHaptic(10);\n    socket.emit('makeMove', { gameId, position: idx });\n  };\n\n  const resetToMenu = () => {\n    setGameState('splash');\n    setActiveTab('Menu');\n    setMessage('');\n    setBoard(Array(9).fill(null));\n    setLastMove(null);\n    setWinningLine(null);\n    setTurnDeadline(null);\n    setTimeLeft(null);\n    setPaymentInfo(null);\n    setIsWaitingForPayment(false);\n    if (waitingIntervalRef.current) { clearInterval(waitingIntervalRef.current); waitingIntervalRef.current = null; }\n    if (matchIntervalRef.current) { clearInterval(matchIntervalRef.current); matchIntervalRef.current = null; }\n    setWaitingInfo(null);\n    setWaitingSecondsLeft(null);\n    setMatchInfo(null);\n    setMatchSecondsLeft(null);\n    setAcceptedTerms(false);\n    // defaults 50 -> 80\n    setBetAmount('50');\n    setPayoutAmount('80');\n    setShowHowToModal(false);\n    setShowStartModal(false);\n    setShowSupportModal(false);\n  };\n\n  useEffect(() => {\n    const opt = BET_OPTIONS.find(o => o.amount === parseInt(betAmount, 10));\n    setPayoutAmount(String(opt?.winnings || 0));\n  }, [betAmount]);\n\n  // Persist toggles\n  useEffect(() => { localStorage.setItem('ttt_sfx', sfxEnabled ? '1' : '0'); }, [sfxEnabled]);\n  useEffect(() => { localStorage.setItem('ttt_haptics', hapticsEnabled ? '1' : '0'); }, [hapticsEnabled]);\n  useEffect(() => { localStorage.setItem('ttt_tilt', tiltEnabled ? '1' : '0'); }, [tiltEnabled]);\n  useEffect(() => { localStorage.setItem('ttt_theme', theme); }, [theme]);\n\n  // Autofill Lightning username from URL (#p_add=user@speed.app or ?p_add=)\n  useEffect(() => {\n    try {\n      const hash = window.location.hash.substring(1);\n      const hashParams = new URLSearchParams(hash);\n      const urlParams = new URLSearchParams(window.location.search);\n      const pAdd = hashParams.get('p_add') || urlParams.get('p_add');\n      if (pAdd) {\n        const username = pAdd.split('@')[0];\n        setLightningAddress(username);\n        localStorage.setItem('ttt_lightningAddress', username);\n        localStorage.setItem('ttt_lastAddress', username);\n      } else if (!lightningAddress) {\n        const last = localStorage.getItem('ttt_lastAddress');\n        if (last) setLightningAddress(last);\n      }\n    } catch {}\n  }, []);\n\n  // Countdown timer for current turn\n  useEffect(() => {\n    if (!turnDeadline || gameState !== 'playing') {\n      setTimeLeft(null);\n      return;\n    }\n    const update = () => {\n      const ms = Math.max(0, Number(turnDeadline) - Date.now());\n      setTimeLeft(Math.ceil(ms / 1000));\n    };\n    update();\n    const t = setInterval(update, 250);\n    return () => clearInterval(t);\n  }, [turnDeadline, gameState]);\n\n  const doResign = () => {\n    if (!socket || !gameId) return;\n    socket.emit('resign', { gameId });\n    sfxPlay('resign');\n    triggerHaptic([20, 30, 20]);\n  };\n\n  const copyPayment = async () => {\n    try {\n      if (!paymentInfo) return;\n      const text = paymentInfo.lightningInvoice || paymentInfo.hostedInvoiceUrl || '';\n      if (!text) return;\n      await navigator.clipboard.writeText(text);\n      setMessage('Payment request copied to clipboard');\n    } catch (e) {\n      setMessage('Copy failed');\n    }\n  };\n\n  // Audio & Haptics\n  const ensureAudioCtx = () => {\n    if (!audioCtxRef.current) {\n      const AC = window.AudioContext || window.webkitAudioContext;\n      if (AC) audioCtxRef.current = new AC();\n    }\n    return audioCtxRef.current;\n  };\n\n  const tone = (ctx, { freq = 600, time = 0, dur = 0.08, type = 'sine', gain = 0.08 }) => {\n    const osc = ctx.createOscillator();\n    const g = ctx.createGain();\n    osc.type = type; osc.frequency.value = freq;\n    osc.connect(g); g.connect(ctx.destination);\n    const t0 = ctx.currentTime + time;\n    g.gain.setValueAtTime(0.0001, t0);\n    g.gain.linearRampToValueAtTime(gain, t0 + 0.01);\n    g.gain.exponentialRampToValueAtTime(0.0001, t0 + dur);\n    osc.start(t0); osc.stop(t0 + dur + 0.02);\n  };\n\n  const sfxPlay = (name) => {\n    if (!sfxEnabled) return;\n    const ctx = ensureAudioCtx();\n    if (!ctx) return;\n    if (name === 'move') {\n      tone(ctx, { freq: 740, dur: 0.06, type: 'triangle', gain: 0.06 });\n    } else if (name === 'win') {\n      tone(ctx, { freq: 523, dur: 0.10, type: 'sine', gain: 0.06 });\n      tone(ctx, { freq: 659, time: 0.10, dur: 0.10, type: 'sine', gain: 0.06 });\n      tone(ctx, { freq: 784, time: 0.20, dur: 0.12, type: 'sine', gain: 0.06 });\n    } else if (name === 'lose') {\n      tone(ctx, { freq: 440, dur: 0.12, type: 'sawtooth', gain: 0.05 });\n      tone(ctx, { freq: 330, time: 0.10, dur: 0.14, type: 'sawtooth', gain: 0.05 });\n    } else if (name === 'resign') {\n      tone(ctx, { freq: 300, dur: 0.12, type: 'square', gain: 0.05 });\n      tone(ctx, { freq: 220, time: 0.10, dur: 0.16, type: 'square', gain: 0.05 });\n    }\n  };\n\n  const triggerHaptic = (pattern) => {\n    try { if (hapticsEnabled && navigator.vibrate) navigator.vibrate(pattern); } catch {}\n  };\n\n  const shareResult = async () => {\n    if (gameState !== 'finished') return;\n    const last = history[0];\n    const text = last ? `I just ${last.outcome === 'win' ? 'won' : 'played'} ${Math.abs(last.amount)} SATS in Tic‑Tac‑Toe!` : 'Play Tic‑Tac‑Toe with SATS!';\n    try {\n      if (navigator.share) {\n        await navigator.share({ title: 'Tic‑Tac‑Toe', text, url: window.location.origin });\n      } else {\n        await navigator.clipboard.writeText(`${text} ${window.location.origin}`);\n        setMessage('Share text copied to clipboard');\n      }\n    } catch {}\n  };\n\n  // 3D Tilt handlers\n  const handleBoardPointer = (e) => {\n    if (!tiltEnabled || !boardRef.current) return;\n    const rect = boardRef.current.getBoundingClientRect();\n    const x = (e.clientX - rect.left) / rect.width; // 0..1\n    const y = (e.clientY - rect.top) / rect.height; // 0..1\n    const ry = (x - 0.5) * 8; // deg\n    const rx = -(y - 0.5) * 8;\n    boardRef.current.style.setProperty('--rx', rx.toFixed(2) + 'deg');\n    boardRef.current.style.setProperty('--ry', ry.toFixed(2) + 'deg');\n  };\n  const resetBoardTilt = () => {\n    if (!boardRef.current) return;\n    boardRef.current.style.setProperty('--rx', '0deg');\n    boardRef.current.style.setProperty('--ry', '0deg');\n  };\n\n  // Simple canvas confetti on win\n  const launchConfetti = () => {\n    try {\n      const host = confettiRef.current || document.body;\n      const canvas = document.createElement('canvas');\n      const dpr = window.devicePixelRatio || 1;\n      const w = window.innerWidth;\n      const h = window.innerHeight;\n      canvas.width = w * dpr;\n      canvas.height = h * dpr;\n      canvas.style.width = w + 'px';\n      canvas.style.height = h + 'px';\n      canvas.style.position = 'fixed';\n      canvas.style.left = '0';\n      canvas.style.top = '0';\n      canvas.style.pointerEvents = 'none';\n      canvas.style.zIndex = '9999';\n      const ctx = canvas.getContext('2d');\n      ctx.scale(dpr, dpr);\n      host.appendChild(canvas);\n\n      const colors = ['#60a5fa', '#f59e0b', '#22c55e', '#e879f9', '#f43f5e'];\n      const N = 120;\n      const particles = Array.from({ length: N }).map(() => ({\n        x: w / 2 + (Math.random() - 0.5) * 80,\n        y: h / 2 + (Math.random() - 0.5) * 40,\n        r: 3 + Math.random() * 4,\n        c: colors[(Math.random() * colors.length) | 0],\n        vx: (Math.random() - 0.5) * 6,\n        vy: -Math.random() * 6 - 2,\n        g: 0.12 + Math.random() * 0.08,\n        a: 1,\n        life: 60 + (Math.random() * 40)\n      }));\n\n      let frame = 0;\n      const tick = () => {\n        frame++;\n        ctx.clearRect(0, 0, w, h);\n        particles.forEach(p => {\n          p.x += p.vx;\n          p.y += p.vy;\n          p.vy += p.g;\n          p.a *= 0.992;\n          p.life--;\n          ctx.globalAlpha = Math.max(0, p.a);\n          ctx.fillStyle = p.c;\n          ctx.beginPath();\n          ctx.arc(p.x, p.y, p.r, 0, Math.PI * 2);\n          ctx.fill();\n        });\n        if (frame < 180) requestAnimationFrame(tick); else host.removeChild(canvas);\n      };\n      tick();\n    } catch {}\n  };\n\n  // Circular timer progress ring\n  function TimerRing({ progress, size = 54 }) {\n    const stroke = 6;\n    const r = (size - stroke) / 2;\n    const c = 2 * Math.PI * r;\n    const clamped = Math.max(0, Math.min(1, progress ?? 0));\n    const dash = c * clamped;\n    return (\n      <svg className=\"timer-ring\" width={size} height={size} viewBox={`0 0 ${size} ${size}`} aria-hidden=\"true\">\n        <defs>\n          <linearGradient id=\"ringGrad\" x1=\"0\" y1=\"0\" x2=\"1\" y2=\"1\">\n            <stop offset=\"0%\" stopColor=\"#60a5fa\" />\n            <stop offset=\"100%\" stopColor=\"#f59e0b\" />\n          </linearGradient>\n        </defs>\n        <circle cx={size/2} cy={size/2} r={r} stroke=\"rgba(148,163,184,0.25)\" strokeWidth={stroke} fill=\"none\" />\n        <circle cx={size/2} cy={size/2} r={r} stroke=\"url(#ringGrad)\" strokeWidth={stroke} fill=\"none\" strokeDasharray={`${c}`} strokeDashoffset={`${c - dash}`} strokeLinecap=\"round\" transform={`rotate(-90 ${size/2} ${size/2})`} />\n      </svg>\n    );\n  }\n\n  const turnProgress = (typeof timeLeft === 'number' && typeof turnDuration === 'number' && turnDuration > 0)\n    ? Math.max(0, Math.min(1, timeLeft / turnDuration))\n    : null;\n\n  // Swipe gestures for tab switching\n  const modalOpen = showSettings || showStartModal || showHowToModal || showSupportModal;\n  const handleTouchStart = (e) => {\n    if (modalOpen || !e.touches?.length) return;\n    const t = e.touches[0];\n    touchStartRef.current = { x: t.clientX, y: t.clientY, t: Date.now() };\n  };\n  const handleTouchEnd = (e) => {\n    if (modalOpen || !touchStartRef.current || !e.changedTouches?.length) return;\n    const start = touchStartRef.current;\n    touchStartRef.current = null;\n    const t = e.changedTouches[0];\n    const dx = t.clientX - start.x;\n    const dy = t.clientY - start.y;\n    if (Math.abs(dx) > 55 && Math.abs(dx) > Math.abs(dy)) {\n      if (dx < 0 && activeTab === 'Menu') setActiveTab('History');\n      else if (dx > 0 && activeTab === 'History') setActiveTab('Menu');\n    }\n  };\n\n  // Keyboard shortcuts (Menu): 1=Start, 2=HowTo, 3=Support\n  useEffect(() => {\n    const onKey = (e) => {\n      if (modalOpen || activeTab !== 'Menu') return;\n      if (e.code === 'Digit1') setShowStartModal(true);\n      else if (e.code === 'Digit2') setShowHowToModal(true);\n      else if (e.code === 'Digit3') setShowSupportModal(true);\n    };\n    window.addEventListener('keydown', onKey);\n    return () => window.removeEventListener('keydown', onKey);\n  }, [modalOpen, activeTab]);\n\n  return (\n    <div className={`app theme-${theme}`} onTouchStart={handleTouchStart} onTouchEnd={handleTouchEnd}>\n      <header className=\"app-header\">\n        <div className=\"brand\">\n          <div className=\"brand-mark\" aria-hidden>⚡</div>\n          <h1 className=\"brand-title\">Tic‑Tac‑Toe</h1>\n        </div>\n        <div className=\"header-actions\">\n          <button className=\"neo-btn small\" onClick={() => setShowSettings(true)} aria-label=\"Open settings\">⚙️ Settings</button>\n        </div>\n      </header>\n      <div className=\"tabs neo-tabs\">\n        {['Menu','History'].map(t => (\n          <button key={t} className={activeTab===t? 'active':''} onClick={()=>setActiveTab(t)}>{t}</button>\n        ))}\n      </div>\n\n      {activeTab === 'Menu' && (\n        <div className=\"menu-page\">\n          <div className=\"menu-center\">\n          <div className=\"cta-col\">\n            <div className=\"cta-item\">\n              <button\n                className=\"neo-btn cta-main primary\"\n                onClick={() => setShowStartModal(true)}\n                disabled={gameState==='playing'}\n                aria-label={`Start Game — Win ${payoutAmount} SATS`}\n              >Start Game</button>\n            </div>\n            <div className=\"cta-item\">\n              <button\n                className=\"neo-btn cta-main\"\n                onClick={() => setShowHowToModal(true)}\n                aria-label=\"How to Play — Rules and tips\"\n              >How to Play</button>\n            </div>\n            <div className=\"cta-item\">\n              <button\n                className=\"neo-btn cta-main outline\"\n                onClick={() => setShowSupportModal(true)}\n                aria-label=\"Contact Support on Telegram\"\n              >Contact Support</button>\n            </div>\n          </div>\n          </div>\n          <PracticeBoard />\n\n          {(gameState === 'playing' || gameState === 'finished') && (\n            <div className=\"section\">\n              <div className=\"status\">\n                <div className=\"hud\">\n                  <div className=\"hud-left\">\n                    {gameState === 'playing' && turnProgress != null ? (\n                      <TimerRing progress={turnProgress} size={58} />\n                    ) : null}\n                  </div>\n                  <div className=\"hud-center\">\n                    <div className=\"message-line\">{message}</div>\n                    {gameState === 'playing' && typeof timeLeft === 'number' ? (\n                      <div className=\"countdown\" role=\"timer\" aria-live=\"polite\">⏳ {timeLeft}s</div>\n                    ) : null}\n                  </div>\n                  <div className=\"hud-right\">\n                    <div className=\"meta\">You: {symbol || '-'}</div>\n                  </div>\n                </div>\n              </div>\n              <div ref={boardRef} className={`board neo-board ${tiltEnabled ? 'tilt' : ''}`} onPointerMove={handleBoardPointer} onPointerLeave={resetBoardTilt}>\n                {board.map((cell, idx) => {\n                  const win = Array.isArray(winningLine) && winningLine.includes(idx);\n                  const last = lastMove === idx;\n                  const xo = cell === 'X' ? ' x' : (cell === 'O' ? ' o' : '');\n                  const cls = `cell${xo}${win ? ' win':''}${last ? ' last':''}`;\n                  const disabled = gameState !== 'playing' || turn !== socketId || board[idx] !== null;\n                  return (\n                    <button key={idx} className={cls} onClick={() => onCellClick(idx)} disabled={disabled} aria-label={`Cell ${idx+1}`}>\n                      {cell || ''}\n                    </button>\n                  );\n                })}\n              </div>\n              {gameState === 'playing' ? (\n                <div style={{ display:'flex', gap:8, justifyContent:'center' }}>\n                  <button className=\"neo-btn outline\" onClick={doResign}>Resign</button>\n                  <button className=\"neo-btn\" onClick={resetToMenu}>Return to Menu</button>\n                </div>\n              ) : (\n                <div style={{ display:'flex', gap:8, justifyContent:'center' }}>\n                  <button className=\"neo-btn outline\" onClick={shareResult}>Share Result</button>\n                  <button className=\"neo-btn\" onClick={resetToMenu}>Return to Menu</button>\n                </div>\n              )}\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* Join tab removed: flow moved into Menu */}\n\n      {false && (\n        <div className=\"status\">{message}</div>\n      )}\n\n      {false && (\n        <div className=\"panel\">\n          {gameState === 'playing' || gameState === 'finished' ? (\n            <>\n              <div className=\"status\">\n                {message}\n                {gameState === 'playing' && typeof timeLeft === 'number' ? (\n                  <div className=\"countdown\" role=\"timer\" aria-live=\"polite\">⏳ {timeLeft}s</div>\n                ) : null}\n                <div className=\"meta\">You: {symbol || '-'}</div>\n              </div>\n              <div className=\"board\">\n                {board.map((cell, idx) => {\n                  const win = Array.isArray(winningLine) && winningLine.includes(idx);\n                  const last = lastMove === idx;\n                  const xo = cell === 'X' ? ' x' : (cell === 'O' ? ' o' : '');\n                  const cls = `cell${xo}${win ? ' win':''}${last ? ' last':''}`;\n                  const disabled = gameState !== 'playing' || turn !== socketId || board[idx] !== null;\n                  return (\n                    <button key={idx} className={cls} onClick={() => onCellClick(idx)} disabled={disabled} aria-label={`Cell ${idx+1}`}> \n                      {cell || ''}\n                    </button>\n                  );\n                })}\n              </div>\n              {gameState === 'playing' ? (\n                <div style={{ display:'flex', gap:8, justifyContent:'center' }}>\n                  <button onClick={doResign}>Resign</button>\n                  <button onClick={resetToMenu}>Return to Menu</button>\n                </div>\n              ) : (\n                <button onClick={resetToMenu}>Return to Menu</button>\n              )}\n            </>\n          ) : (\n            <div className=\"status\">{message}</div>\n          )}\n        </div>\n      )}\n\n      {activeTab === 'History' && (\n        <div className=\"panel neo-panel glass\">\n          <div className=\"stats-chips\" aria-label=\"Your stats\">\n            <span className=\"chip\">Wins: {stats.wins}</span>\n            <span className=\"chip\">Losses: {stats.losses}</span>\n            <span className=\"chip\">Win rate: {stats.winrate}%</span>\n            <span className=\"chip\">Streak: {stats.streak}</span>\n            <span className=\"chip\">Net: {stats.net} SATS</span>\n          </div>\n          <h3>Recent Games</h3>\n          {history.length === 0 ? (\n            <p>No games yet.</p>\n          ) : (\n            <ul className=\"history\">\n              {history.map(h => (\n                <li key={h.id}>\n                  <span>{new Date(h.ts).toLocaleString()}</span>\n                  <span>Bet: {h.bet}</span>\n                  <span>{h.outcome === 'win' ? '+': ''}{h.amount} SATS</span>\n                </li>\n              ))}\n            </ul>\n          )}\n        </div>\n      )}\n      <div ref={confettiRef} className=\"confetti-layer\" />\n\n      {showSettings && (\n        <div className=\"modal-backdrop\" onClick={() => setShowSettings(false)}>\n          <div className=\"modal\" onClick={(e) => e.stopPropagation()}>\n            <h3>Settings</h3>\n            <div className=\"section\">\n              <label><input type=\"checkbox\" checked={sfxEnabled} onChange={(e)=>setSfxEnabled(e.target.checked)} /> Sound effects</label>\n              <label><input type=\"checkbox\" checked={hapticsEnabled} onChange={(e)=>setHapticsEnabled(e.target.checked)} /> Haptics (vibration)</label>\n              <label><input type=\"checkbox\" checked={tiltEnabled} onChange={(e)=>setTiltEnabled(e.target.checked)} /> 3D board tilt</label>\n            </div>\n            <div className=\"section\">\n              <div style={{ display:'flex', gap:8, flexWrap:'wrap' }}>\n                {['minimal','neon','ocean','sunset','majestic'].map(tn => (\n                  <button key={tn} className={`neo-btn ${theme===tn?'primary':''}`} onClick={()=>setTheme(tn)}>{tn}</button>\n                ))}\n              </div>\n            </div>\n            <div style={{ display:'flex', justifyContent:'flex-end', gap:8 }}>\n              <button className=\"neo-btn\" onClick={() => setShowSettings(false)}>Close</button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {showStartModal && (\n        <div className=\"modal-backdrop\" onClick={() => setShowStartModal(false)}>\n          <div className=\"modal start-modal\" onClick={(e) => e.stopPropagation()}>\n            <h3>Start Game</h3>\n            <div className=\"section\">\n              {/* Status badges + subtitle */}\n              <div className=\"start-header\">\n                <div className=\"badges\" aria-live=\"polite\">\n                  <span className={`badge ${connected ? 'ok' : 'warn'}`}><span className=\"dot\" /> {connected ? 'Connected' : 'Connecting'}</span>\n                  <span className={`badge ${paymentInfo ? 'ok' : 'muted'}`}><span className=\"dot\" /> {paymentInfo ? 'Invoice Ready' : 'No Invoice'}</span>\n                  {paymentInfo?.demo ? (<span className=\"badge info\"><span className=\"dot\" /> Demo Mode</span>) : null}\n                </div>\n                <div className=\"subtitle\">Win {payoutAmount} SATS</div>\n              </div>\n\n              <div className=\"start-modal-grid\">\n                {/* Left: details form */}\n                <div className=\"start-form\">\n                  <label htmlFor=\"ln-username\">Lightning Username</label>\n                  <div className=\"input-group\">\n                    <span className=\"prefix\" aria-hidden>⚡</span>\n                    <input id=\"ln-username\" value={lightningAddress} onChange={e=>setLightningAddress(e.target.value)} placeholder=\"e.g. user\" />\n                    {lightningAddress ? (\n                      <button type=\"button\" className=\"suffix-btn\" onClick={() => setLightningAddress('')} aria-label=\"Clear username\">✕</button>\n                    ) : null}\n                  </div>\n                  <small className=\"helper\">Use your Speed username (no domain needed)</small>\n\n                  <div className=\"bet-group\" role=\"radiogroup\" aria-label=\"Bet Amount\">\n                    <div className=\"bet-grid\">\n                      {BET_OPTIONS.map(o => (\n                        <label key={o.amount} className={`bet-chip ${String(o.amount)===String(betAmount) ? 'active' : ''}`}>\n                          <input type=\"radio\" name=\"bet\" value={o.amount} checked={String(o.amount)===String(betAmount)} onChange={()=>setBetAmount(String(o.amount))} />\n                          <span className=\"amt\">{o.amount}</span>\n                          <span className=\"win\">Win {o.winnings}</span>\n                        </label>\n                      ))}\n                    </div>\n                    {/* Fallback select for accessibility */}\n                  <select className=\"sr-only\" value={betAmount} onChange={e=>setBetAmount(e.target.value)} aria-hidden=\"true\" tabIndex={-1}>\n                    {BET_OPTIONS.map(o => (\n                      <option key={o.amount} value={o.amount}>{o.amount} SATS (Win {o.winnings})</option>\n                    ))}\n                  </select>\n                </div>\n\n                <div className=\"section\" style={{ marginTop: 8 }}>\n                  <label style={{ display:'flex', gap:8, alignItems:'flex-start' }}>\n                    <input type=\"checkbox\" checked={acceptedTerms} onChange={(e)=>setAcceptedTerms(e.target.checked)} />\n                    <span>\n                      I agree to the <strong>Terms & Conditions</strong> and <strong>Privacy Policy</strong>. You may be matched with an AI bot opponent. Winnings are paid automatically to your Lightning address.\n                      <details style={{ marginTop: 6 }}>\n                        <summary>View Terms</summary>\n                        <ul style={{ marginTop: 6 }}>\n                          <li>Must be 18+; local laws apply.</li>\n                          <li>Gameplay may include AI bots; outcomes follow predefined fairness patterns per bet tier.</li>\n                          <li>Payouts are sent to the Lightning address you provide; ensure it’s correct.</li>\n                          <li>No warranties; service provided “as is”.</li>\n                          <li>By playing you accept all risks and our privacy practices.</li>\n                        </ul>\n                      </details>\n                    </span>\n                  </label>\n                </div>\n\n                <div className=\"form-actions\">\n                  <button className=\"neo-btn\" onClick={() => setShowStartModal(false)}>Close</button>\n                  <button className=\"neo-btn primary\" onClick={doJoin} disabled={!connected || isWaitingForPayment || !acceptedTerms}>\n                    {connected ? 'Join & Pay' : 'Connecting...'}\n                  </button>\n                </div>\n              </div>\n\n              {/* Right: invoice panel */}\n              <div className=\"invoice-panel neo-panel glass\">\n                <h4 style={{ marginTop: 0 }}>Invoice</h4>\n                {gameState === 'awaitingPayment' && paymentInfo ? (\n                  <div className=\"payment\">\n                    <p className=\"payment-msg\">{message}</p>\n                    <div className=\"qr-frame\">\n                      <div className=\"qr\">\n                        <QRCodeSVG value={paymentInfo.lightningInvoice || paymentInfo.hostedInvoiceUrl || ''} size={180} />\n                      </div>\n                    </div>\n                    <div className=\"actions\">\n                      <a className=\"neo-btn outline\" href={paymentInfo.hostedInvoiceUrl} target=\"_blank\" rel=\"noreferrer\">Open Payment Page</a>\n                      <button className=\"neo-btn\" onClick={copyPayment}>Copy Payment Request</button>\n                      {paymentInfo.demo ? (\n                        <button className=\"neo-btn\" onClick={simulatePayment}>I have paid (demo)</button>\n                      ) : null}\n                    </div>\n                  </div>\n                ) : gameState === 'waiting' ? (\n                  <div className=\"payment\">\n                    <p className=\"payment-msg\">{matchInfo ? 'Opponent found!' : 'Finding an opponent...'}</p>\n                    <div className=\"qr-frame\" style={{ padding: 20 }}>\n                      <div className=\"qr\" style={{ display:'flex', alignItems:'center', justifyContent:'center', height:180 }}>\n                        <div className=\"spinner\" aria-label=\"Searching\" />\n                      </div>\n                    </div>\n                    {waitingInfo && !matchInfo ? (\n                      <div className=\"actions\" style={{ flexDirection:'column', gap:6 }}>\n                        <div>Estimated wait: {waitingInfo.minWait}–{waitingInfo.maxWait}s</div>\n                        <div>Time left: {waitingSecondsLeft ?? '...'}s</div>\n                      </div>\n                    ) : null}\n                    {matchInfo ? (\n                      <div className=\"actions\" style={{ flexDirection:'column', gap:6 }}>\n                        <div>{matchInfo.opponent?.isBot ? 'AI Bot ready.' : 'Opponent ready.'}</div>\n                        <div>Starting in: {matchSecondsLeft ?? matchInfo.startsIn}s</div>\n                      </div>\n                    ) : null}\n                  </div>\n                ) : (\n                  <div className=\"placeholder\">\n                    <div className=\"skeleton\" aria-hidden>\n                      <div className=\"skt skt-title\"></div>\n                      <div className=\"skt skt-qr\"></div>\n                      <div className=\"skt skt-btn\"></div>\n                    </div>\n                    <p>No invoice yet. Click <strong>Join & Pay</strong> to generate an invoice.</p>\n                  </div>\n                )}\n              </div>\n              </div>\n\n              {/* Sticky mobile CTA */}\n              <div className=\"sticky-cta\">\n                <div className=\"bar\">\n                  <button className=\"neo-btn\" onClick={() => setShowStartModal(false)}>Close</button>\n                  <button className=\"neo-btn primary\" onClick={doJoin} disabled={!connected || isWaitingForPayment || !acceptedTerms}>\n                    {connected ? 'Join & Pay' : 'Connecting...'}\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {showHowToModal && (\n        <div className=\"modal-backdrop\" onClick={() => setShowHowToModal(false)}>\n          <div className=\"modal\" onClick={(e) => e.stopPropagation()}>\n            <h3>How to Play</h3>\n            <div className=\"section\">\n              <ol>\n                <li>Enter your Lightning username and choose a bet (default 50 SATS, win 80 SATS).</li>\n                <li>Click Join & Pay and pay the invoice (demo mode lets you simulate).</li>\n                <li>Play Tic‑Tac‑Toe. You have a turn timer; you can resign anytime.</li>\n              </ol>\n            </div>\n            <div style={{ display:'flex', justifyContent:'flex-end' }}>\n              <button className=\"neo-btn\" onClick={() => setShowHowToModal(false)}>Close</button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {showSupportModal && (\n        <div className=\"modal-backdrop\" onClick={() => setShowSupportModal(false)}>\n          <div className=\"modal\" onClick={(e) => e.stopPropagation()}>\n            <h3>Contact Support</h3>\n            <div className=\"section\">\n              <p>Chat with us on Telegram:</p>\n              <p><a className=\"neo-btn outline\" href=\"https://t.me/ThunderSlate\" target=\"_blank\" rel=\"noreferrer\">Open Telegram @ThunderSlate</a></p>\n            </div>\n            <div style={{ display:'flex', justifyContent:'flex-end' }}>\n              <button className=\"neo-btn\" onClick={() => setShowSupportModal(false)}>Close</button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}